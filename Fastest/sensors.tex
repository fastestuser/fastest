\documentclass{article}
\usepackage{czt}

\begin{document}


\begin{zed}
[SENSOR, SENSOR2]\\
Saludos ::= hola | chau
\end{zed}

\begin{zed}
MaxReadings == [smax: SENSOR \pfun \num]
\end{zed}

\begin{schema}{B}
a1, a2 : SENSOR2 \\
a3: Saludos	
\end{schema}

\begin{schema}{A}
a1, a2 : SENSOR \\
a3: B \\
a4: Saludos	
\end{schema}

\begin{schema}{KeepMaxReadingOk}
\Delta MaxReadings \\
s?:SENSOR; r?:\num; testx:A; textf: A \pfun A \\
test3:Saludos
\where
s? \in \dom smax \\
smax~s? < r?\\
smax' = smax \oplus \{s? \mapsto r?\}
%smax' = (\dom \{s? \mapsto r?\} \ndres smax) \oplus \{s? \mapsto r?\}
\end{schema}

\begin{zed}
KeepMaxReadingE1 == \\
  \t1 [\Xi MaxReadings; s?:SENSOR | \\
  \t1 s? \notin \dom smax]
\end{zed}

\begin{schema}{KeepMaxReadingE2}
\Xi MaxReadings \\
s?:SENSOR; r?:\num
\where
s? \in \dom smax\\
r? \leq smax~s? 
\end{schema}

\begin{zed}
KeepMaxReading == \\
  \t1 KeepMaxReadingOk \\
  \t1 \lor KeepMaxReadingE1 \\
  \t1 \lor KeepMaxReadingE2
\end{zed}
\end{document}


